#!/usr/bin/env python3

import sys
sys.path.append('/var/lib/alps')
from config import load_config
from deps import required_deps
from deps import recommended_deps
from deps import optional_deps
from deps import all_deps
from deps import dep_chain
from deps import load_installed
from deps import dep_chain_status
from console import print_status
from console import prompt_choice
from console import menu
import operations
import misc

try:
	config_path = '/etc/alps/alps.conf'
	config = load_config(config_path)

	arg_count = len(sys.argv)

	params_and_opts = misc.params_and_opts(sys.argv)

	cmd = params_and_opts[0][1]
	operations.run_cmd(cmd, params_and_opts, config)
except KeyboardInterrupt:
	print('')
	print('Exiting...')
	print('')
